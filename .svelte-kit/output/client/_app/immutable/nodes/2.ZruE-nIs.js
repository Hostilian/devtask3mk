import"../chunks/CWj6FrbW.js";import"../chunks/HyOUnryc.js";import{h as D,d as se,b as ie,x as y,ac as le,r as oe,e as ve,g as U,i as q,j as z,m as R,R as fe,V as ue,k as ee,l as ae,p as ce,Z as re,M as de,ad as _e,ae as X,af as V,O as J,ag as pe,ah as he,ai as ye,Y as xe,aj as me,ak as Ie,al as ge,am as Ee,S as we,A as ke,an as C,ao as Y,B as H,a as G,D as Ae,F as N,G as L,ap as E,I as F,C as Z,f as be}from"../chunks/B9SQDHgi.js";import{d as Te,o as Se,s as Q}from"../chunks/Cm3C-Kfe.js";import{i as De}from"../chunks/CeBR92tR.js";function Me(t,e){return e}function Ne(t,e,r,l){for(var p=[],o=e.length,c=0;c<o;c++)ye(e[c].e,p,!0);var m=o>0&&p.length===0&&r!==null;if(m){var v=r.parentNode;xe(v),v.append(r),l.clear(),S(t,e[0].prev,e[o-1].next)}me(p,()=>{for(var h=0;h<o;h++){var a=e[h];m||(l.delete(a.k),S(t,a.prev,a.next)),Ie(a.e,!m)}})}function Le(t,e,r,l,p,o=null){var c=t,m={flags:e,items:new Map,first:null};D&&se();var v=null,h=!1,a=le(()=>{var i=r();return de(i)?i:i==null?[]:re(i)});ie(()=>{var i=y(a),n=i.length;if(h&&n===0)return;h=n===0;let d=!1;if(D){var f=oe(c)===ve;f!==(n===0)&&(c=U(),q(c),z(!1),d=!0)}if(D){for(var k=null,w,s=0;s<n;s++){if(R.nodeType===fe&&R.data===ue){c=R,d=!0,z(!1);break}var x=i[s],b=l(x,s);w=te(R,m,k,null,x,b,s,p,e,r),m.items.set(b,w),k=w}n>0&&q(U())}D||Oe(i,m,c,p,e,l,r),o!==null&&(n===0?v?ee(v):v=ae(()=>o(c)):v!==null&&ce(v,()=>{v=null})),d&&z(!0),y(a)}),D&&(c=R)}function Oe(t,e,r,l,p,o,c){var m=t.length,v=e.items,h=e.first,a=h,i,n=null,d=[],f=[],k,w,s,x;for(x=0;x<m;x+=1){if(k=t[x],w=o(k,x),s=v.get(w),s===void 0){var b=a?a.e.nodes_start:r;n=te(b,e,n,n===null?e.first:n.next,k,w,x,l,p,c),v.set(w,n),d=[],f=[],a=n.next;continue}if(Re(s,k,x),s.e.f&V&&ee(s.e),s!==a){if(i!==void 0&&i.has(s)){if(d.length<f.length){var M=f[0],A;n=M.prev;var $=d[0],u=d[d.length-1];for(A=0;A<d.length;A+=1)W(d[A],M,r);for(A=0;A<f.length;A+=1)i.delete(f[A]);S(e,$.prev,u.next),S(e,n,$),S(e,u,M),a=M,n=u,x-=1,d=[],f=[]}else i.delete(s),W(s,a,r),S(e,s.prev,s.next),S(e,s,n===null?e.first:n.next),S(e,n,s),n=s;continue}for(d=[],f=[];a!==null&&a.k!==w;)a.e.f&V||(i??(i=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;s=a}d.push(s),n=s,a=s.next}if(a!==null||i!==void 0){for(var _=i===void 0?[]:re(i);a!==null;)a.e.f&V||_.push(a),a=a.next;var I=_.length;if(I>0){var T=null;Ne(e,_,T,v)}}J.first=e.first&&e.first.e,J.last=n&&n.e}function Re(t,e,r,l){he(t.v,e),t.i=r}function te(t,e,r,l,p,o,c,m,v,h){var a=(v&ge)!==0,i=(v&Ee)===0,n=a?i?_e(p,!1,!1):X(p):p,d=v&pe?X(c):c,f={i:d,v:n,k:o,a:null,e:null,prev:r,next:l};try{return f.e=ae(()=>m(t,n,d,h),D),f.e.prev=r&&r.e,f.e.next=l&&l.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),l!==null&&(l.prev=f,l.e.prev=f.e),f}finally{}}function W(t,e,r){for(var l=t.next?t.next.e.nodes_start:r,p=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==l;){var c=we(o);p.before(o),o=c}}function S(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Ce(t,e){return t==null?null:String(t)}function B(t,e,r,l){var p=t.__style;if(D||p!==e){var o=Ce(e);(!D||o!==t.getAttribute("style"))&&(o==null?t.removeAttribute("style"):t.style.cssText=o),t.__style=e}return l}var Ge=H('<div class="game-over svelte-np5jdi"><h2 class="svelte-np5jdi">Game Over!</h2> <p class="svelte-np5jdi"> </p> <button class="svelte-np5jdi">Play Again</button></div>'),Fe=H('<div class="snake-segment svelte-np5jdi"></div>'),He=H('<div class="game-board svelte-np5jdi"><!> <div class="food svelte-np5jdi"></div></div> <div class="score svelte-np5jdi"> </div>',1),$e=H('<div class="game-container svelte-np5jdi"><!></div>');function je(t,e){ke(e,!0);const r=20;let l=20;const p=[{x:10,y:10}],o={x:5,y:5},c={x:0,y:0},m=150;let v=C(Y(p)),h=C(Y(o)),a=C(Y(c)),i=C(0),n=C(!0),d;function f(){E(v,p,!0),E(h,o,!0),E(a,c,!0),E(i,0),E(n,!1),d=setInterval(s,m)}function k(){clearInterval(d),E(n,!0)}function w(){let u;do u={x:Math.floor(Math.random()*r),y:Math.floor(Math.random()*r)};while(y(v).some(_=>_.x===u.x&&_.y===u.y));E(h,u,!0)}function s(){const u=y(v),_=y(a),I=y(h);let T=y(i);const g={x:u[0].x+_.x,y:u[0].y+_.y};if(g.x<0||g.x>=r||g.y<0||g.y>=r){k();return}if(u.some(j=>j.x===g.x&&j.y===g.y)){k();return}const O=[g,...u];g.x===I.x&&g.y===I.y?(E(i,T+1),w()):O.pop(),E(v,O,!0)}function x(u){const _=y(a);switch(u.key){case"ArrowUp":_.y===0&&E(a,{x:0,y:-1},!0);break;case"ArrowDown":_.y===0&&E(a,{x:0,y:1},!0);break;case"ArrowLeft":_.x===0&&E(a,{x:-1,y:0},!0);break;case"ArrowRight":_.x===0&&E(a,{x:1,y:0},!0);break}}Se(()=>(window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x),clearInterval(d)}));var b=$e(),M=N(b);{var A=u=>{var _=Ge(),I=F(N(_),2),T=N(I);L(I);var g=F(I,2);g.__click=f,L(_),Z(()=>Q(T,`Score: ${y(i)??""}`)),G(u,_)},$=u=>{var _=He(),I=be(_);B(I,"width: 400px; height: 400px;");var T=N(I);Le(T,17,()=>y(v),Me,(ne,K)=>{var P=Fe();Z(()=>B(P,`left: ${y(K).x*l}px; top: ${y(K).y*l}px;`)),G(ne,P)});var g=F(T,2);L(I);var O=F(I,2),j=N(O);L(O),Z(()=>{B(g,`left: ${y(h).x*l}px; top: ${y(h).y*l}px;`),Q(j,`Score: ${y(i)??""}`)}),G(u,_)};De(M,u=>{y(n)?u(A):u($,!1)})}L(b),G(t,b),Ae()}Te(["click"]);var ze=H('<main class="svelte-z7wa5z"><h1 class="svelte-z7wa5z">Snake Game</h1> <!></main>');function Pe(t){var e=ze(),r=F(N(e),2);je(r,{}),L(e),G(t,e)}export{Pe as component};
